<div *ngIf="product" class="container">
    <div>
        <form #productPost="ngForm" (ngSubmit)="onSubmit(productPost.value)">
            <h3>Editor de productos</h3>
            <div class="form-floating">
                <input type="text" id="name" class="form-control" name="name" [(ngModel)]="editProduct.nombre" required>
                <label for="name">Nombre del producto</label>
            </div>
            <div class="form-floating">
                <input type="text" id="description" class="form-control" name="description" [(ngModel)]="editProduct.desc" required>
                <label for="description">Descripcion del producto</label>
            </div>
            <!-- <div>
                <label>Familia del producto</label>
                <select class="form-select" aria-label="Default select example" name="idPF" [(ngModel)]="editProduct.nombre" required>
                    <option *ngFor="let family of familias" [value]="family.nombre" [id]="family.id">{{family.nombre}}</option>
                  </select>
            </div> -->
            <div class="form-floating" >
                <input type="number" step="0.01" min="0" id="price" class="form-control" name="price" [(ngModel)]="editProduct.price" required>
                <label for="price">Precio del producto</label>
            </div>
            <div class="form-floating" >
                <input type="number" step="0.01" min="0" max="100" id="iva" class="form-control" name="iva" [(ngModel)]="editProduct.iva" required>
                <label for="iva">IVA del producto</label>
            </div>
            <div class="mb-4 d-flex justify-content-center" *ngIf="preview">
                <div style="position: relative;">
                    <img width="150px" [src]="preview" alt="" style="margin-top: 20px; border-style: solid; border-width: thin;">
                    <div class="btn btn-primary rounded-circle"
                        style="margin-bottom: 5px; align-items: center; position:absolute; right: -25px;">
                        <div>
                            <i class="bi bi-pencil" style="font-size: x-large;"></i>
                            <input type="file" accept=".jpg,.png" class="form-control" id="img"
                                (change)="upload($event)" style="position: absolute; top: 0; right: 0; opacity:0"/>
                        </div>
                    </div>
                </div>
            </div>
            <div style="display: flex; justify-content: space-between; padding-bottom: 10px;">
                <div style="text-align: center;">
                    <button type="button" class="btn btn-outline-secondary" (click)="closeDialog()">Cancelar</button>
                </div>
                <div style="text-align: center">
                    <button type="submit" class="btn btn-primary" [disabled]="productPost.invalid||(productPost.pristine && !imageChanged)">Guardar</button>
                </div>
            </div>
        </form>
    </div>
</div>